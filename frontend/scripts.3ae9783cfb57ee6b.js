const systemMediaEvent=window.matchMedia("(prefers-color-scheme: dark)"),registerSystemThemeChangeListener=()=>{systemMediaEvent.addEventListener("change",themeChangeCallback)},themeChangeCallback=()=>{window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setTheme=()=>{"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),"theme"in localStorage||systemMediaEvent.addEventListener("change",themeChangeCallback)};switchTheme=e=>{"dark"===e?(localStorage.theme="dark",systemMediaEvent.removeEventListener("change",themeChangeCallback),setTheme()):"light"===e?(localStorage.theme="light",systemMediaEvent.removeEventListener("change",themeChangeCallback),setTheme()):(localStorage.removeItem("theme"),setTheme())},setTheme();